<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<title>SSL/TLS and Secure Transmission</title>

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css" type="text/css" />

	<!-- Font -->
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
	<link href="http://spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css" rel="stylesheet" type="text/css" />
	<link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet" type="text/css" />
</head>


<body>
	<div class="content-container">
		<header>
	<div class="header-small">
		<a href="http://cuih.xyz">La vie est drôle</a>
	</div>
</header>

<div class="post">
	<div class="post-title">SSL/TLS and Secure Transmission</div>
	<span class="post-date">
		<time>11 Dec 2018</time>
	</span>
	<div class="post-tag">
		<ul>
			
			<li>
				<a href="http://cuih.xyz/tags#web">
					<span>web</span>
				</a>
			</li>
			
			
		</ul>
	</div>

	<h2 id="overview">Overview</h2>

<p>If you are familiar with the Internet, you’ll know that the underlying <code class="highlighter-rouge">TCP/IP</code> protocol stack is not a secure one. We need to do something on top of it to ensure secure transmission, and <code class="highlighter-rouge">SSL/TLS</code> is a common but powerful solution.</p>

<h2 id="encryption-and-pki">Encryption and PKI</h2>

<p>Before we really get into the implementation, I’d like to introduce some basic knowledge.</p>

<p>Secure transmission is always about encryption. There are two different encryption methods, the <code class="highlighter-rouge">symmetric encryption</code> and the <code class="highlighter-rouge">asymmetric encryption</code>.</p>

<h3 id="symmetric-encryption">Symmetric encryption</h3>

<p>A symmetric encryption uses exactly <code class="highlighter-rouge">one</code> key to encrypt and decrypt the message, so this key should be always kept secret.</p>

<p><img src="/assets/images/181211/1.png" alt="" /></p>

<h3 id="asymmetric-encryption">Asymmetric encryption</h3>

<p>In contrast to the symmetric encryption, an asymmetric encryption has <code class="highlighter-rouge">two</code> different keys. Messages are encrypted by one key and decrypted with another. In most cases, one of the keys is released to the public, called the <code class="highlighter-rouge">public key</code>, while the other one is the <code class="highlighter-rouge">secret key</code>. Such a system is known as the <code class="highlighter-rouge">public-key cryptography</code>.</p>

<p><img src="/assets/images/181211/2.png" alt="" /></p>

<h3 id="public-key-infrastructure">Public key infrastructure</h3>

<p>Based on asymmetric encryption, we can build a <code class="highlighter-rouge">public key infrastructure</code> (PKI), which may involve many roles and polices. The purpose of a PKI is to facilitate the secure electronic transmission. I will discuss it later in this blog.</p>

<h2 id="secure-transmission">Secure transmission</h2>

<p>Let’s try to build a secure communication system. Say our old friends, Alice and Bob, are sending messages to each other.</p>

<h3 id="integrity">Integrity</h3>

<p>First, we need to consider the <code class="highlighter-rouge">integrity</code>, which means the message is complete and not modified by a man-in-the-middle.</p>

<p>Here we make use of the public-key cryptography. A <code class="highlighter-rouge">digest</code> of the message is calculated on the sender side, and Bob encrypts it with his <code class="highlighter-rouge">secret key</code>. The encrypted digest is also called the <code class="highlighter-rouge">digital signature</code>.</p>

<blockquote>
  <p>A digital signature is a mathematical scheme for demonstrating the authenticity of digital messages or documents.</p>
</blockquote>

<p>Since the secret key is only known to Bob, only he can make this encrypted digest. This “signature” can prove his identity and it is undeniable.</p>

<p>After that, Bob sends both the message and the encrypted digest. Alice again calculates the digest using the same algorithm, and decrypts the encrypted digest with Bob’s <code class="highlighter-rouge">public key</code>. If the two digests are the same, Alice will know that the message is complete.</p>

<p><img src="/assets/images/181211/3.png" alt="" /></p>

<h3 id="privacy">Privacy</h3>

<p>Alice and Bod do not want their messages to be read by others. Note that messages are sent from both sides, and there is always a public key in the public-key cryptosystem. A possible solution is to use two sets of keys, so there are two public keys and two secret keys, which may be somewhat inconvenient.</p>

<p>In this case, we can use the symmetric encryption instead. Another reason is that asymmetric encryption is time-consuming, so if we want to encrypt the whole message, the symmetric one is a more efficient choice.</p>

<p><img src="/assets/images/181211/4.png" alt="" /></p>

<p>The <code class="highlighter-rouge">session key</code> in this picture should be kept secret, so how can the sever and the client generate the same key respectively and, at the same time, secretly? You’ll see that later.</p>

<h3 id="unforgeability">Unforgeability</h3>

<p>In a public-key cryptosystem, where does the public key come from? What if someone else, such as Tom, tells Alice that he is Bob, and gives Alice his own public key, he can then deceive Alice in the name of Bob.</p>

<p>We need a third-party authority here, called the <code class="highlighter-rouge">certificate authority</code> (CA). Bob first registers himself to the CA with his public key, and he will receive a <code class="highlighter-rouge">digital certificate</code>. When Alice asks for Bob’s public key, Bob gives her the certificate. Alice validates it and gets the real public key.</p>

<p>So, how can Alice validate the digital certificate? Again, the public-key cryptography.</p>

<p><img src="/assets/images/181211/5.png" alt="" /></p>

<p>Now, with the public-key encryption algorithm and the CA, we have built a draft <code class="highlighter-rouge">public key infrastructure</code>.</p>

<h3 id="session-key">Session key</h3>

<p>There is still one problem left. In the “privacy” section, a symmetric session key is used to encrypt the message. Where is it from?</p>

<p>With current structure, we can easily generate it. After retrieving Bob’s public key, Alice can safely communicate with Bob, and during the first several conversations, they discuss a session key for all subsequent communications. After that every message is encrypted by the session key so no one else can eavesdrop on or tamper with it.</p>

<p><img src="/assets/images/181211/6.png" alt="" /></p>

<h2 id="ssltls">SSL/TLS</h2>

<p>Where is SSL/TLS? In fact, we have just discussed the three main characteristics of it. The SSL/TLS ensures:</p>

<ul>
  <li>Integrity</li>
  <li>Privacy</li>
  <li>Unforgeability</li>
</ul>

<p>The picture in the “session key” section is the <code class="highlighter-rouge">handshaking phase</code> of SSL/TLS, where Bob is the server, and Alice is the client.</p>

<p>In some cases, the server may also request client certificate to verify its identity, such as in a bank system.</p>

<p>Now that we know how SSL/TLS works, let’s look back at the description.</p>

<blockquote>
  <p><code class="highlighter-rouge">SSL</code> is the abbreviation of <code class="highlighter-rouge">Secure Socket Layer</code>. It’s a cryptographic protocol that provides communications security over a computer network, and after standardization, it has a new name – <code class="highlighter-rouge">SSL</code>, which means <code class="highlighter-rouge">Transport Layer Security</code>.</p>
</blockquote>

<h2 id="summary">Summary</h2>

<p>We always need secure transmission, but the underlying Internet is not secure. Luckily, we have SSL/TLS. It protects messages from being forged, eavesdroped on, or tampered with.</p>

<p>First, the sender cannot deny his signature after encrypting the message with his own secret key <code class="highlighter-rouge">(undeniability)</code>. Second, the receiver can verify the signature with the sender’s public key. Since no one else knows the secret key, digital signature cannot be forged <code class="highlighter-rouge">(authenticity)</code>, and at the same time, messages cannot be eavesdroped on <code class="highlighter-rouge">(privacy)</code> or tampered with <code class="highlighter-rouge">(integrity)</code>.</p>

</div>

		
		<div class="footer">
	<hr/>
	<div class="footer-link">
		
		<a href="https://www.facebook.com/none"><i class="fa fa-facebook" aria-hidden="true"></i></a>
		

		
		<a href="https://twitter.com/dontsay_lazy"><i class="fa fa-twitter" aria-hidden="true"></i></a>
		

		
		<a href="https://github.com/CuiH"><i class="fa fa-github" aria-hidden="true"></i></a>
		

		
		<a href="https://www.linkedin.com/in/hao-cui-3ab90214b"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
		

		
		<a href="mailto:hcui1995@gmail.com"><i class="fa fa-envelope" aria-hidden="true"></i></a>
		
	</div>

	© 2019 CuiH. All rights reserved.
</div>

	</div>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125119994-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-125119994-1');
	</script>
</body>
</html>
